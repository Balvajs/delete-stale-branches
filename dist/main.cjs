"use strict";var po=Object.create;var ke=Object.defineProperty;var mo=Object.getOwnPropertyDescriptor;var go=Object.getOwnPropertyNames;var yo=Object.getPrototypeOf,vo=Object.prototype.hasOwnProperty;var M=(e,t)=>()=>(e&&(t=e(e=0)),t);var x=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),bo=(e,t)=>{for(var r in t)ke(e,r,{get:t[r],enumerable:!0})},zt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of go(t))!vo.call(e,o)&&o!==r&&ke(e,o,{get:()=>t[o],enumerable:!(n=mo(t,o))||n.enumerable});return e};var G=(e,t,r)=>(r=e!=null?po(yo(e)):{},zt(t||!e||!e.__esModule?ke(r,"default",{value:e,enumerable:!0}):r,e)),wo=e=>zt(ke({},"__esModule",{value:!0}),e);var Ie=x(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.toCommandProperties=ce.toCommandValue=void 0;function _o(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}ce.toCommandValue=_o;function Oo(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}ce.toCommandProperties=Oo});var er=x(B=>{"use strict";var Eo=B&&B.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),To=B&&B.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),So=B&&B.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Eo(t,e,r);return To(t,e),t};Object.defineProperty(B,"__esModule",{value:!0});B.issue=B.issueCommand=void 0;var Ro=So(require("os")),Xt=Ie();function Zt(e,t,r){let n=new ct(e,t,r);process.stdout.write(n.toString()+Ro.EOL)}B.issueCommand=Zt;function xo(e,t=""){Zt(e,{},t)}B.issue=xo;var Qt="::",ct=class{constructor(t,r,n){t||(t="missing.command"),this.command=t,this.properties=r,this.message=n}toString(){let t=Qt+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let r=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let o=this.properties[n];o&&(r?r=!1:t+=",",t+=`${n}=${$o(o)}`)}}return t+=`${Qt}${Ao(this.message)}`,t}};function Ao(e){return Xt.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function $o(e){return Xt.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});function Oe(){return Ne>Ue.length-16&&(tr.default.randomFillSync(Ue),Ne=0),Ue.slice(Ne,Ne+=16)}var tr,Ue,Ne,lt=M(()=>{"use strict";tr=G(require("crypto")),Ue=new Uint8Array(256),Ne=Ue.length});var rr,nr=M(()=>{"use strict";rr=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Po(e){return typeof e=="string"&&rr.test(e)}var z,Ee=M(()=>{"use strict";nr();z=Po});function Co(e,t=0){let r=(C[e[t+0]]+C[e[t+1]]+C[e[t+2]]+C[e[t+3]]+"-"+C[e[t+4]]+C[e[t+5]]+"-"+C[e[t+6]]+C[e[t+7]]+"-"+C[e[t+8]]+C[e[t+9]]+"-"+C[e[t+10]]+C[e[t+11]]+C[e[t+12]]+C[e[t+13]]+C[e[t+14]]+C[e[t+15]]).toLowerCase();if(!z(r))throw TypeError("Stringified UUID is invalid");return r}var C,Q,Te=M(()=>{"use strict";Ee();C=[];for(let e=0;e<256;++e)C.push((e+256).toString(16).substr(1));Q=Co});function qo(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let i=e.node||or,s=e.clockseq!==void 0?e.clockseq:ft;if(i==null||s==null){let y=e.random||(e.rng||Oe)();i==null&&(i=or=[y[0]|1,y[1],y[2],y[3],y[4],y[5]]),s==null&&(s=ft=(y[6]<<8|y[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),u=e.nsecs!==void 0?e.nsecs:ht+1,c=a-dt+(u-ht)/1e4;if(c<0&&e.clockseq===void 0&&(s=s+1&16383),(c<0||a>dt)&&e.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");dt=a,ht=u,ft=s,a+=122192928e5;let l=((a&268435455)*1e4+u)%4294967296;o[n++]=l>>>24&255,o[n++]=l>>>16&255,o[n++]=l>>>8&255,o[n++]=l&255;let f=a/4294967296*1e4&268435455;o[n++]=f>>>8&255,o[n++]=f&255,o[n++]=f>>>24&15|16,o[n++]=f>>>16&255,o[n++]=s>>>8|128,o[n++]=s&255;for(let y=0;y<6;++y)o[n+y]=i[y];return t||Q(o)}var or,ft,dt,ht,ir,sr=M(()=>{"use strict";lt();Te();dt=0,ht=0;ir=qo});function Mo(e){if(!z(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Be,pt=M(()=>{"use strict";Ee();Be=Mo});function Do(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Le(e,t,r){function n(o,i,s,a){if(typeof o=="string"&&(o=Do(o)),typeof i=="string"&&(i=Be(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+o.length);if(u.set(i),u.set(o,i.length),u=r(u),u[6]=u[6]&15|t,u[8]=u[8]&63|128,s){a=a||0;for(let c=0;c<16;++c)s[a+c]=u[c];return s}return Q(u)}try{n.name=e}catch{}return n.DNS=jo,n.URL=ko,n}var jo,ko,mt=M(()=>{"use strict";Te();pt();jo="6ba7b810-9dad-11d1-80b4-00c04fd430c8",ko="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function Io(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),ar.default.createHash("md5").update(e).digest()}var ar,ur,cr=M(()=>{"use strict";ar=G(require("crypto"));ur=Io});var No,lr,fr=M(()=>{"use strict";mt();cr();No=Le("v3",48,ur),lr=No});function Uo(e,t,r){e=e||{};let n=e.random||(e.rng||Oe)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return Q(n)}var dr,hr=M(()=>{"use strict";lt();Te();dr=Uo});function Bo(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),pr.default.createHash("sha1").update(e).digest()}var pr,mr,gr=M(()=>{"use strict";pr=G(require("crypto"));mr=Bo});var Lo,yr,vr=M(()=>{"use strict";mt();gr();Lo=Le("v5",80,mr),yr=Lo});var br,wr=M(()=>{"use strict";br="00000000-0000-0000-0000-000000000000"});function Fo(e){if(!z(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var _r,Or=M(()=>{"use strict";Ee();_r=Fo});var Er={};bo(Er,{NIL:()=>br,parse:()=>Be,stringify:()=>Q,v1:()=>ir,v3:()=>lr,v4:()=>dr,v5:()=>yr,validate:()=>z,version:()=>_r});var Tr=M(()=>{"use strict";sr();fr();hr();vr();wr();Or();Ee();Te();pt()});var Ar=x(L=>{"use strict";var Vo=L&&L.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Go=L&&L.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Rr=L&&L.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Vo(t,e,r);return Go(t,e),t};Object.defineProperty(L,"__esModule",{value:!0});L.prepareKeyValueMessage=L.issueFileCommand=void 0;var Sr=Rr(require("fs")),gt=Rr(require("os")),Ho=(Tr(),wo(Er)),xr=Ie();function Wo(e,t){let r=process.env[`GITHUB_${e}`];if(!r)throw new Error(`Unable to find environment variable for file command ${e}`);if(!Sr.existsSync(r))throw new Error(`Missing file at path: ${r}`);Sr.appendFileSync(r,`${xr.toCommandValue(t)}${gt.EOL}`,{encoding:"utf8"})}L.issueFileCommand=Wo;function Yo(e,t){let r=`ghadelimiter_${Ho.v4()}`,n=xr.toCommandValue(t);if(e.includes(r))throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`);if(n.includes(r))throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`);return`${e}<<${r}${gt.EOL}${n}${gt.EOL}${r}`}L.prepareKeyValueMessage=Yo});var Pr=x(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.checkBypass=le.getProxyUrl=void 0;function Jo(e){let t=e.protocol==="https:";if($r(e))return;let r=(()=>t?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}le.getProxyUrl=Jo;function $r(e){if(!e.hostname)return!1;let t=e.hostname;if(Ko(t))return!0;let r=process.env.no_proxy||process.env.NO_PROXY||"";if(!r)return!1;let n;e.port?n=Number(e.port):e.protocol==="http:"?n=80:e.protocol==="https:"&&(n=443);let o=[e.hostname.toUpperCase()];typeof n=="number"&&o.push(`${o[0]}:${n}`);for(let i of r.split(",").map(s=>s.trim().toUpperCase()).filter(s=>s))if(i==="*"||o.some(s=>s===i||s.endsWith(`.${i}`)||i.startsWith(".")&&s.endsWith(`${i}`)))return!0;return!1}le.checkBypass=$r;function Ko(e){let t=e.toLowerCase();return t==="localhost"||t.startsWith("127.")||t.startsWith("[::1]")||t.startsWith("[0:0:0:0:0:0:0:1]")}});var Dr=x(fe=>{"use strict";var Ea=require("net"),zo=require("tls"),yt=require("http"),Cr=require("https"),Qo=require("events"),Ta=require("assert"),Xo=require("util");fe.httpOverHttp=Zo;fe.httpsOverHttp=ei;fe.httpOverHttps=ti;fe.httpsOverHttps=ri;function Zo(e){var t=new J(e);return t.request=yt.request,t}function ei(e){var t=new J(e);return t.request=yt.request,t.createSocket=qr,t.defaultPort=443,t}function ti(e){var t=new J(e);return t.request=Cr.request,t}function ri(e){var t=new J(e);return t.request=Cr.request,t.createSocket=qr,t.defaultPort=443,t}function J(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||yt.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(n,o,i,s){for(var a=Mr(o,i,s),u=0,c=t.requests.length;u<c;++u){var l=t.requests[u];if(l.host===a.host&&l.port===a.port){t.requests.splice(u,1),l.request.onSocket(n);return}}n.destroy(),t.removeSocket(n)})}Xo.inherits(J,Qo.EventEmitter);J.prototype.addRequest=function(t,r,n,o){var i=this,s=vt({request:t},i.options,Mr(r,n,o));if(i.sockets.length>=this.maxSockets){i.requests.push(s);return}i.createSocket(s,function(a){a.on("free",u),a.on("close",c),a.on("agentRemove",c),t.onSocket(a);function u(){i.emit("free",a,s)}function c(l){i.removeSocket(a),a.removeListener("free",u),a.removeListener("close",c),a.removeListener("agentRemove",c)}})};J.prototype.createSocket=function(t,r){var n=this,o={};n.sockets.push(o);var i=vt({},n.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1,headers:{host:t.host+":"+t.port}});t.localAddress&&(i.localAddress=t.localAddress),i.proxyAuth&&(i.headers=i.headers||{},i.headers["Proxy-Authorization"]="Basic "+new Buffer(i.proxyAuth).toString("base64")),X("making CONNECT request");var s=n.request(i);s.useChunkedEncodingByDefault=!1,s.once("response",a),s.once("upgrade",u),s.once("connect",c),s.once("error",l),s.end();function a(f){f.upgrade=!0}function u(f,y,N){process.nextTick(function(){c(f,y,N)})}function c(f,y,N){if(s.removeAllListeners(),y.removeAllListeners(),f.statusCode!==200){X("tunneling socket could not be established, statusCode=%d",f.statusCode),y.destroy();var re=new Error("tunneling socket could not be established, statusCode="+f.statusCode);re.code="ECONNRESET",t.request.emit("error",re),n.removeSocket(o);return}if(N.length>0){X("got illegal response body from proxy"),y.destroy();var re=new Error("got illegal response body from proxy");re.code="ECONNRESET",t.request.emit("error",re),n.removeSocket(o);return}return X("tunneling connection has established"),n.sockets[n.sockets.indexOf(o)]=y,r(y)}function l(f){s.removeAllListeners(),X(`tunneling socket could not be established, cause=%s
`,f.message,f.stack);var y=new Error("tunneling socket could not be established, cause="+f.message);y.code="ECONNRESET",t.request.emit("error",y),n.removeSocket(o)}};J.prototype.removeSocket=function(t){var r=this.sockets.indexOf(t);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(o){n.request.onSocket(o)})}};function qr(e,t){var r=this;J.prototype.createSocket.call(r,e,function(n){var o=e.request.getHeader("host"),i=vt({},r.options,{socket:n,servername:o?o.replace(/:.*$/,""):e.host}),s=zo.connect(0,i);r.sockets[r.sockets.indexOf(n)]=s,t(s)})}function Mr(e,t,r){return typeof e=="string"?{host:e,port:t,localAddress:r}:e}function vt(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if(typeof n=="object")for(var o=Object.keys(n),i=0,s=o.length;i<s;++i){var a=o[i];n[a]!==void 0&&(e[a]=n[a])}}return e}var X;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?X=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:X=function(){};fe.debug=X});var kr=x((Ra,jr)=>{"use strict";jr.exports=Dr()});var Nr=x(_=>{"use strict";var ni=_&&_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),oi=_&&_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ye=_&&_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&ni(t,e,r);return oi(t,e),t},A=_&&_.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(l){try{c(n.next(l))}catch(f){s(f)}}function u(l){try{c(n.throw(l))}catch(f){s(f)}}function c(l){l.done?i(l.value):o(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(_,"__esModule",{value:!0});_.HttpClient=_.isHttps=_.HttpClientResponse=_.HttpClientError=_.getProxyUrl=_.MediaTypes=_.Headers=_.HttpCodes=void 0;var Fe=Ye(require("http")),bt=Ye(require("https")),Ir=Ye(Pr()),Ve=Ye(kr()),H;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})(H=_.HttpCodes||(_.HttpCodes={}));var D;(function(e){e.Accept="accept",e.ContentType="content-type"})(D=_.Headers||(_.Headers={}));var Z;(function(e){e.ApplicationJson="application/json"})(Z=_.MediaTypes||(_.MediaTypes={}));function ii(e){let t=Ir.getProxyUrl(new URL(e));return t?t.href:""}_.getProxyUrl=ii;var si=[H.MovedPermanently,H.ResourceMoved,H.SeeOther,H.TemporaryRedirect,H.PermanentRedirect],ai=[H.BadGateway,H.ServiceUnavailable,H.GatewayTimeout],ui=["OPTIONS","GET","DELETE","HEAD"],ci=10,li=5,He=class e extends Error{constructor(t,r){super(t),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,e.prototype)}};_.HttpClientError=He;var We=class{constructor(t){this.message=t}readBody(){return A(this,void 0,void 0,function*(){return new Promise(t=>A(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",n=>{r=Buffer.concat([r,n])}),this.message.on("end",()=>{t(r.toString())})}))})}};_.HttpClientResponse=We;function fi(e){return new URL(e).protocol==="https:"}_.isHttps=fi;var wt=class{constructor(t,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=t,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(t,r){return A(this,void 0,void 0,function*(){return this.request("OPTIONS",t,null,r||{})})}get(t,r){return A(this,void 0,void 0,function*(){return this.request("GET",t,null,r||{})})}del(t,r){return A(this,void 0,void 0,function*(){return this.request("DELETE",t,null,r||{})})}post(t,r,n){return A(this,void 0,void 0,function*(){return this.request("POST",t,r,n||{})})}patch(t,r,n){return A(this,void 0,void 0,function*(){return this.request("PATCH",t,r,n||{})})}put(t,r,n){return A(this,void 0,void 0,function*(){return this.request("PUT",t,r,n||{})})}head(t,r){return A(this,void 0,void 0,function*(){return this.request("HEAD",t,null,r||{})})}sendStream(t,r,n,o){return A(this,void 0,void 0,function*(){return this.request(t,r,n,o)})}getJson(t,r={}){return A(this,void 0,void 0,function*(){r[D.Accept]=this._getExistingOrDefaultHeader(r,D.Accept,Z.ApplicationJson);let n=yield this.get(t,r);return this._processResponse(n,this.requestOptions)})}postJson(t,r,n={}){return A(this,void 0,void 0,function*(){let o=JSON.stringify(r,null,2);n[D.Accept]=this._getExistingOrDefaultHeader(n,D.Accept,Z.ApplicationJson),n[D.ContentType]=this._getExistingOrDefaultHeader(n,D.ContentType,Z.ApplicationJson);let i=yield this.post(t,o,n);return this._processResponse(i,this.requestOptions)})}putJson(t,r,n={}){return A(this,void 0,void 0,function*(){let o=JSON.stringify(r,null,2);n[D.Accept]=this._getExistingOrDefaultHeader(n,D.Accept,Z.ApplicationJson),n[D.ContentType]=this._getExistingOrDefaultHeader(n,D.ContentType,Z.ApplicationJson);let i=yield this.put(t,o,n);return this._processResponse(i,this.requestOptions)})}patchJson(t,r,n={}){return A(this,void 0,void 0,function*(){let o=JSON.stringify(r,null,2);n[D.Accept]=this._getExistingOrDefaultHeader(n,D.Accept,Z.ApplicationJson),n[D.ContentType]=this._getExistingOrDefaultHeader(n,D.ContentType,Z.ApplicationJson);let i=yield this.patch(t,o,n);return this._processResponse(i,this.requestOptions)})}request(t,r,n,o){return A(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let i=new URL(r),s=this._prepareRequest(t,i,o),a=this._allowRetries&&ui.includes(t)?this._maxRetries+1:1,u=0,c;do{if(c=yield this.requestRaw(s,n),c&&c.message&&c.message.statusCode===H.Unauthorized){let f;for(let y of this.handlers)if(y.canHandleAuthentication(c)){f=y;break}return f?f.handleAuthentication(this,s,n):c}let l=this._maxRedirects;for(;c.message.statusCode&&si.includes(c.message.statusCode)&&this._allowRedirects&&l>0;){let f=c.message.headers.location;if(!f)break;let y=new URL(f);if(i.protocol==="https:"&&i.protocol!==y.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield c.readBody(),y.hostname!==i.hostname)for(let N in o)N.toLowerCase()==="authorization"&&delete o[N];s=this._prepareRequest(t,y,o),c=yield this.requestRaw(s,n),l--}if(!c.message.statusCode||!ai.includes(c.message.statusCode))return c;u+=1,u<a&&(yield c.readBody(),yield this._performExponentialBackoff(u))}while(u<a);return c})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(t,r){return A(this,void 0,void 0,function*(){return new Promise((n,o)=>{function i(s,a){s?o(s):a?n(a):o(new Error("Unknown error"))}this.requestRawWithCallback(t,r,i)})})}requestRawWithCallback(t,r,n){typeof r=="string"&&(t.options.headers||(t.options.headers={}),t.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let o=!1;function i(u,c){o||(o=!0,n(u,c))}let s=t.httpModule.request(t.options,u=>{let c=new We(u);i(void 0,c)}),a;s.on("socket",u=>{a=u}),s.setTimeout(this._socketTimeout||3*6e4,()=>{a&&a.end(),i(new Error(`Request timeout: ${t.options.path}`))}),s.on("error",function(u){i(u)}),r&&typeof r=="string"&&s.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){s.end()}),r.pipe(s)):s.end()}getAgent(t){let r=new URL(t);return this._getAgent(r)}_prepareRequest(t,r,n){let o={};o.parsedUrl=r;let i=o.parsedUrl.protocol==="https:";o.httpModule=i?bt:Fe;let s=i?443:80;if(o.options={},o.options.host=o.parsedUrl.hostname,o.options.port=o.parsedUrl.port?parseInt(o.parsedUrl.port):s,o.options.path=(o.parsedUrl.pathname||"")+(o.parsedUrl.search||""),o.options.method=t,o.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(o.options.headers["user-agent"]=this.userAgent),o.options.agent=this._getAgent(o.parsedUrl),this.handlers)for(let a of this.handlers)a.prepareRequest(o.options);return o}_mergeHeaders(t){return this.requestOptions&&this.requestOptions.headers?Object.assign({},Ge(this.requestOptions.headers),Ge(t||{})):Ge(t||{})}_getExistingOrDefaultHeader(t,r,n){let o;return this.requestOptions&&this.requestOptions.headers&&(o=Ge(this.requestOptions.headers)[r]),t[r]||o||n}_getAgent(t){let r,n=Ir.getProxyUrl(t),o=n&&n.hostname;if(this._keepAlive&&o&&(r=this._proxyAgent),this._keepAlive&&!o&&(r=this._agent),r)return r;let i=t.protocol==="https:",s=100;if(this.requestOptions&&(s=this.requestOptions.maxSockets||Fe.globalAgent.maxSockets),n&&n.hostname){let a={maxSockets:s,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},u,c=n.protocol==="https:";i?u=c?Ve.httpsOverHttps:Ve.httpsOverHttp:u=c?Ve.httpOverHttps:Ve.httpOverHttp,r=u(a),this._proxyAgent=r}if(this._keepAlive&&!r){let a={keepAlive:this._keepAlive,maxSockets:s};r=i?new bt.Agent(a):new Fe.Agent(a),this._agent=r}return r||(r=i?bt.globalAgent:Fe.globalAgent),i&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(t){return A(this,void 0,void 0,function*(){t=Math.min(ci,t);let r=li*Math.pow(2,t);return new Promise(n=>setTimeout(()=>n(),r))})}_processResponse(t,r){return A(this,void 0,void 0,function*(){return new Promise((n,o)=>A(this,void 0,void 0,function*(){let i=t.message.statusCode||0,s={statusCode:i,result:null,headers:{}};i===H.NotFound&&n(s);function a(l,f){if(typeof f=="string"){let y=new Date(f);if(!isNaN(y.valueOf()))return y}return f}let u,c;try{c=yield t.readBody(),c&&c.length>0&&(r&&r.deserializeDates?u=JSON.parse(c,a):u=JSON.parse(c),s.result=u),s.headers=t.message.headers}catch{}if(i>299){let l;u&&u.message?l=u.message:c&&c.length>0?l=c:l=`Failed request: (${i})`;let f=new He(l,i);f.result=s.result,o(f)}else n(s)}))})}};_.HttpClient=wt;var Ge=e=>Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{})});var Ur=x(Y=>{"use strict";var Tt=Y&&Y.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(l){try{c(n.next(l))}catch(f){s(f)}}function u(l){try{c(n.throw(l))}catch(f){s(f)}}function c(l){l.done?i(l.value):o(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(Y,"__esModule",{value:!0});Y.PersonalAccessTokenCredentialHandler=Y.BearerCredentialHandler=Y.BasicCredentialHandler=void 0;var _t=class{constructor(t,r){this.username=t,this.password=r}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return Tt(this,void 0,void 0,function*(){throw new Error("not implemented")})}};Y.BasicCredentialHandler=_t;var Ot=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return Tt(this,void 0,void 0,function*(){throw new Error("not implemented")})}};Y.BearerCredentialHandler=Ot;var Et=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return Tt(this,void 0,void 0,function*(){throw new Error("not implemented")})}};Y.PersonalAccessTokenCredentialHandler=Et});var Fr=x(de=>{"use strict";var Br=de&&de.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(l){try{c(n.next(l))}catch(f){s(f)}}function u(l){try{c(n.throw(l))}catch(f){s(f)}}function c(l){l.done?i(l.value):o(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(de,"__esModule",{value:!0});de.OidcClient=void 0;var di=Nr(),hi=Ur(),Lr=Je(),St=class e{static createHttpClient(t=!0,r=10){let n={allowRetries:t,maxRetries:r};return new di.HttpClient("actions/oidc-client",[new hi.BearerCredentialHandler(e.getRequestToken())],n)}static getRequestToken(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return t}static getIDTokenUrl(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return t}static getCall(t){var r;return Br(this,void 0,void 0,function*(){let i=(r=(yield e.createHttpClient().getJson(t).catch(s=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${s.statusCode}
 
        Error Message: ${s.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!i)throw new Error("Response json body do not have ID Token field");return i})}static getIDToken(t){return Br(this,void 0,void 0,function*(){try{let r=e.getIDTokenUrl();if(t){let o=encodeURIComponent(t);r=`${r}&audience=${o}`}Lr.debug(`ID token url is ${r}`);let n=yield e.getCall(r);return Lr.setSecret(n),n}catch(r){throw new Error(`Error message: ${r.message}`)}})}};de.OidcClient=St});var $t=x(k=>{"use strict";var Rt=k&&k.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(l){try{c(n.next(l))}catch(f){s(f)}}function u(l){try{c(n.throw(l))}catch(f){s(f)}}function c(l){l.done?i(l.value):o(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(k,"__esModule",{value:!0});k.summary=k.markdownSummary=k.SUMMARY_DOCS_URL=k.SUMMARY_ENV_VAR=void 0;var pi=require("os"),xt=require("fs"),{access:mi,appendFile:gi,writeFile:yi}=xt.promises;k.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";k.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var At=class{constructor(){this._buffer=""}filePath(){return Rt(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let t=process.env[k.SUMMARY_ENV_VAR];if(!t)throw new Error(`Unable to find environment variable for $${k.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield mi(t,xt.constants.R_OK|xt.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${t}'. Check if the file has correct read/write permissions.`)}return this._filePath=t,this._filePath})}wrap(t,r,n={}){let o=Object.entries(n).map(([i,s])=>` ${i}="${s}"`).join("");return r?`<${t}${o}>${r}</${t}>`:`<${t}${o}>`}write(t){return Rt(this,void 0,void 0,function*(){let r=!!t?.overwrite,n=yield this.filePath();return yield(r?yi:gi)(n,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return Rt(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(t,r=!1){return this._buffer+=t,r?this.addEOL():this}addEOL(){return this.addRaw(pi.EOL)}addCodeBlock(t,r){let n=Object.assign({},r&&{lang:r}),o=this.wrap("pre",this.wrap("code",t),n);return this.addRaw(o).addEOL()}addList(t,r=!1){let n=r?"ol":"ul",o=t.map(s=>this.wrap("li",s)).join(""),i=this.wrap(n,o);return this.addRaw(i).addEOL()}addTable(t){let r=t.map(o=>{let i=o.map(s=>{if(typeof s=="string")return this.wrap("td",s);let{header:a,data:u,colspan:c,rowspan:l}=s,f=a?"th":"td",y=Object.assign(Object.assign({},c&&{colspan:c}),l&&{rowspan:l});return this.wrap(f,u,y)}).join("");return this.wrap("tr",i)}).join(""),n=this.wrap("table",r);return this.addRaw(n).addEOL()}addDetails(t,r){let n=this.wrap("details",this.wrap("summary",t)+r);return this.addRaw(n).addEOL()}addImage(t,r,n){let{width:o,height:i}=n||{},s=Object.assign(Object.assign({},o&&{width:o}),i&&{height:i}),a=this.wrap("img",null,Object.assign({src:t,alt:r},s));return this.addRaw(a).addEOL()}addHeading(t,r){let n=`h${r}`,o=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1",i=this.wrap(o,t);return this.addRaw(i).addEOL()}addSeparator(){let t=this.wrap("hr",null);return this.addRaw(t).addEOL()}addBreak(){let t=this.wrap("br",null);return this.addRaw(t).addEOL()}addQuote(t,r){let n=Object.assign({},r&&{cite:r}),o=this.wrap("blockquote",t,n);return this.addRaw(o).addEOL()}addLink(t,r){let n=this.wrap("a",t,{href:r});return this.addRaw(n).addEOL()}},Vr=new At;k.markdownSummary=Vr;k.summary=Vr});var Gr=x(I=>{"use strict";var vi=I&&I.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),bi=I&&I.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),wi=I&&I.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&vi(t,e,r);return bi(t,e),t};Object.defineProperty(I,"__esModule",{value:!0});I.toPlatformPath=I.toWin32Path=I.toPosixPath=void 0;var _i=wi(require("path"));function Oi(e){return e.replace(/[\\]/g,"/")}I.toPosixPath=Oi;function Ei(e){return e.replace(/[/]/g,"\\")}I.toWin32Path=Ei;function Ti(e){return e.replace(/[/\\]/g,_i.sep)}I.toPlatformPath=Ti});var Je=x(m=>{"use strict";var Si=m&&m.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ri=m&&m.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Hr=m&&m.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Si(t,e,r);return Ri(t,e),t},Wr=m&&m.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(l){try{c(n.next(l))}catch(f){s(f)}}function u(l){try{c(n.throw(l))}catch(f){s(f)}}function c(l){l.done?i(l.value):o(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(m,"__esModule",{value:!0});m.getIDToken=m.getState=m.saveState=m.group=m.endGroup=m.startGroup=m.info=m.notice=m.warning=m.error=m.debug=m.isDebug=m.setFailed=m.setCommandEcho=m.setOutput=m.getBooleanInput=m.getMultilineInput=m.getInput=m.addPath=m.setSecret=m.exportVariable=m.ExitCode=void 0;var F=er(),se=Ar(),he=Ie(),Yr=Hr(require("os")),xi=Hr(require("path")),Ai=Fr(),Jr;(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"})(Jr=m.ExitCode||(m.ExitCode={}));function $i(e,t){let r=he.toCommandValue(t);if(process.env[e]=r,process.env.GITHUB_ENV||"")return se.issueFileCommand("ENV",se.prepareKeyValueMessage(e,t));F.issueCommand("set-env",{name:e},r)}m.exportVariable=$i;function Pi(e){F.issueCommand("add-mask",{},e)}m.setSecret=Pi;function Ci(e){process.env.GITHUB_PATH||""?se.issueFileCommand("PATH",e):F.issueCommand("add-path",{},e),process.env.PATH=`${e}${xi.delimiter}${process.env.PATH}`}m.addPath=Ci;function Pt(e,t){let r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r)throw new Error(`Input required and not supplied: ${e}`);return t&&t.trimWhitespace===!1?r:r.trim()}m.getInput=Pt;function qi(e,t){let r=Pt(e,t).split(`
`).filter(n=>n!=="");return t&&t.trimWhitespace===!1?r:r.map(n=>n.trim())}m.getMultilineInput=qi;function Mi(e,t){let r=["true","True","TRUE"],n=["false","False","FALSE"],o=Pt(e,t);if(r.includes(o))return!0;if(n.includes(o))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}m.getBooleanInput=Mi;function Di(e,t){if(process.env.GITHUB_OUTPUT||"")return se.issueFileCommand("OUTPUT",se.prepareKeyValueMessage(e,t));process.stdout.write(Yr.EOL),F.issueCommand("set-output",{name:e},he.toCommandValue(t))}m.setOutput=Di;function ji(e){F.issue("echo",e?"on":"off")}m.setCommandEcho=ji;function ki(e){process.exitCode=Jr.Failure,Kr(e)}m.setFailed=ki;function Ii(){return process.env.RUNNER_DEBUG==="1"}m.isDebug=Ii;function Ni(e){F.issueCommand("debug",{},e)}m.debug=Ni;function Kr(e,t={}){F.issueCommand("error",he.toCommandProperties(t),e instanceof Error?e.toString():e)}m.error=Kr;function Ui(e,t={}){F.issueCommand("warning",he.toCommandProperties(t),e instanceof Error?e.toString():e)}m.warning=Ui;function Bi(e,t={}){F.issueCommand("notice",he.toCommandProperties(t),e instanceof Error?e.toString():e)}m.notice=Bi;function Li(e){process.stdout.write(e+Yr.EOL)}m.info=Li;function zr(e){F.issue("group",e)}m.startGroup=zr;function Qr(){F.issue("endgroup")}m.endGroup=Qr;function Fi(e,t){return Wr(this,void 0,void 0,function*(){zr(e);let r;try{r=yield t()}finally{Qr()}return r})}m.group=Fi;function Vi(e,t){if(process.env.GITHUB_STATE||"")return se.issueFileCommand("STATE",se.prepareKeyValueMessage(e,t));F.issueCommand("save-state",{name:e},he.toCommandValue(t))}m.saveState=Vi;function Gi(e){return process.env[`STATE_${e}`]||""}m.getState=Gi;function Hi(e){return Wr(this,void 0,void 0,function*(){return yield Ai.OidcClient.getIDToken(e)})}m.getIDToken=Hi;var Wi=$t();Object.defineProperty(m,"summary",{enumerable:!0,get:function(){return Wi.summary}});var Yi=$t();Object.defineProperty(m,"markdownSummary",{enumerable:!0,get:function(){return Yi.markdownSummary}});var Ct=Gr();Object.defineProperty(m,"toPosixPath",{enumerable:!0,get:function(){return Ct.toPosixPath}});Object.defineProperty(m,"toWin32Path",{enumerable:!0,get:function(){return Ct.toWin32Path}});Object.defineProperty(m,"toPlatformPath",{enumerable:!0,get:function(){return Ct.toPlatformPath}})});var hn=x((Ga,dn)=>{"use strict";dn.exports=fn;function fn(e,t,r,n){if(typeof r!="function")throw new Error("method for before hook must be a function");return n||(n={}),Array.isArray(t)?t.reverse().reduce(function(o,i){return fn.bind(null,e,i,o,n)},r)():Promise.resolve().then(function(){return e.registry[t]?e.registry[t].reduce(function(o,i){return i.hook.bind(null,o,n)},r)():r(n)})}});var mn=x((Ha,pn)=>{"use strict";pn.exports=us;function us(e,t,r,n){var o=n;e.registry[r]||(e.registry[r]=[]),t==="before"&&(n=function(i,s){return Promise.resolve().then(o.bind(null,s)).then(i.bind(null,s))}),t==="after"&&(n=function(i,s){var a;return Promise.resolve().then(i.bind(null,s)).then(function(u){return a=u,o(a,s)}).then(function(){return a})}),t==="error"&&(n=function(i,s){return Promise.resolve().then(i.bind(null,s)).catch(function(a){return o(a,s)})}),e.registry[r].push({hook:n,orig:o})}});var yn=x((Wa,gn)=>{"use strict";gn.exports=cs;function cs(e,t,r){if(e.registry[t]){var n=e.registry[t].map(function(o){return o.orig}).indexOf(r);n!==-1&&e.registry[t].splice(n,1)}}});var Tn=x((Ya,xe)=>{"use strict";var _n=hn(),ls=mn(),fs=yn(),vn=Function.bind,bn=vn.bind(vn);function On(e,t,r){var n=bn(fs,null).apply(null,r?[t,r]:[t]);e.api={remove:n},e.remove=n,["before","error","after","wrap"].forEach(function(o){var i=r?[t,o,r]:[t,o];e[o]=e.api[o]=bn(ls,null).apply(null,i)})}function ds(){var e="h",t={registry:{}},r=_n.bind(null,t,e);return On(r,t,e),r}function En(){var e={registry:{}},t=_n.bind(null,e);return On(t,e),t}var wn=!1;function ge(){return wn||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),wn=!0),En()}ge.Singular=ds.bind();ge.Collection=En.bind();xe.exports=ge;xe.exports.Hook=ge;xe.exports.Singular=ge.Singular;xe.exports.Collection=ge.Collection});var Nn=x((Au,In)=>{"use strict";In.exports=kn;function kn(e,t){if(e&&t)return kn(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];var i=e.apply(this,n),s=n[n.length-1];return typeof i=="function"&&i!==s&&Object.keys(s).forEach(function(a){i[a]=s[a]}),i}}});var Ln=x(($u,Lt)=>{"use strict";var Un=Nn();Lt.exports=Un(et);Lt.exports.strict=Un(Bn);et.proto=et(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return et(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Bn(this)},configurable:!0})});function et(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function Bn(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}});var ao=x((Wt,Yt)=>{"use strict";(function(e,t){typeof Wt=="object"&&typeof Yt<"u"?Yt.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs=t()})(Wt,function(){"use strict";var e=1e3,t=6e4,r=36e5,n="millisecond",o="second",i="minute",s="hour",a="day",u="week",c="month",l="quarter",f="year",y="date",N="Invalid Date",re=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,lo=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,fo={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(v){var p=["th","st","nd","rd"],d=v%100;return"["+v+(p[(d-20)%10]||p[d]||p[0])+"]"}},at=function(v,p,d){var g=String(v);return!g||g.length>=p?v:""+Array(p+1-g.length).join(d)+v},ho={s:at,z:function(v){var p=-v.utcOffset(),d=Math.abs(p),g=Math.floor(d/60),h=d%60;return(p<=0?"+":"-")+at(g,2,"0")+":"+at(h,2,"0")},m:function v(p,d){if(p.date()<d.date())return-v(d,p);var g=12*(d.year()-p.year())+(d.month()-p.month()),h=p.clone().add(g,c),b=d-h<0,w=p.clone().add(g+(b?-1:1),c);return+(-(g+(d-h)/(b?h-w:w-h))||0)},a:function(v){return v<0?Math.ceil(v)||0:Math.floor(v)},p:function(v){return{M:c,y:f,w:u,d:a,D:y,h:s,m:i,s:o,ms:n,Q:l}[v]||String(v||"").toLowerCase().replace(/s$/,"")},u:function(v){return v===void 0}},be="en",ne={};ne[be]=fo;var ut=function(v){return v instanceof De},Me=function v(p,d,g){var h;if(!p)return be;if(typeof p=="string"){var b=p.toLowerCase();ne[b]&&(h=b),d&&(ne[b]=d,h=b);var w=p.split("-");if(!h&&w.length>1)return v(w[0])}else{var E=p.name;ne[E]=p,h=E}return!g&&h&&(be=h),h||!g&&be},$=function(v,p){if(ut(v))return v.clone();var d=typeof p=="object"?p:{};return d.date=v,d.args=arguments,new De(d)},O=ho;O.l=Me,O.i=ut,O.w=function(v,p){return $(v,{locale:p.$L,utc:p.$u,x:p.$x,$offset:p.$offset})};var De=function(){function v(d){this.$L=Me(d.locale,null,!0),this.parse(d)}var p=v.prototype;return p.parse=function(d){this.$d=function(g){var h=g.date,b=g.utc;if(h===null)return new Date(NaN);if(O.u(h))return new Date;if(h instanceof Date)return new Date(h);if(typeof h=="string"&&!/Z$/i.test(h)){var w=h.match(re);if(w){var E=w[2]-1||0,R=(w[7]||"0").substring(0,3);return b?new Date(Date.UTC(w[1],E,w[3]||1,w[4]||0,w[5]||0,w[6]||0,R)):new Date(w[1],E,w[3]||1,w[4]||0,w[5]||0,w[6]||0,R)}}return new Date(h)}(d),this.$x=d.x||{},this.init()},p.init=function(){var d=this.$d;this.$y=d.getFullYear(),this.$M=d.getMonth(),this.$D=d.getDate(),this.$W=d.getDay(),this.$H=d.getHours(),this.$m=d.getMinutes(),this.$s=d.getSeconds(),this.$ms=d.getMilliseconds()},p.$utils=function(){return O},p.isValid=function(){return this.$d.toString()!==N},p.isSame=function(d,g){var h=$(d);return this.startOf(g)<=h&&h<=this.endOf(g)},p.isAfter=function(d,g){return $(d)<this.startOf(g)},p.isBefore=function(d,g){return this.endOf(g)<$(d)},p.$g=function(d,g,h){return O.u(d)?this[g]:this.set(h,d)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(d,g){var h=this,b=!!O.u(g)||g,w=O.p(d),E=function(ie,j){var K=O.w(h.$u?Date.UTC(h.$y,j,ie):new Date(h.$y,j,ie),h);return b?K:K.endOf(a)},R=function(ie,j){return O.w(h.toDate()[ie].apply(h.toDate("s"),(b?[0,0,0,0]:[23,59,59,999]).slice(j)),h)},P=this.$W,q=this.$M,U=this.$D,ue="set"+(this.$u?"UTC":"");switch(w){case f:return b?E(1,0):E(31,11);case c:return b?E(1,q):E(0,q+1);case u:var oe=this.$locale().weekStart||0,we=(P<oe?P+7:P)-oe;return E(b?U-we:U+(6-we),q);case a:case y:return R(ue+"Hours",0);case s:return R(ue+"Minutes",1);case i:return R(ue+"Seconds",2);case o:return R(ue+"Milliseconds",3);default:return this.clone()}},p.endOf=function(d){return this.startOf(d,!1)},p.$set=function(d,g){var h,b=O.p(d),w="set"+(this.$u?"UTC":""),E=(h={},h[a]=w+"Date",h[y]=w+"Date",h[c]=w+"Month",h[f]=w+"FullYear",h[s]=w+"Hours",h[i]=w+"Minutes",h[o]=w+"Seconds",h[n]=w+"Milliseconds",h)[b],R=b===a?this.$D+(g-this.$W):g;if(b===c||b===f){var P=this.clone().set(y,1);P.$d[E](R),P.init(),this.$d=P.set(y,Math.min(this.$D,P.daysInMonth())).$d}else E&&this.$d[E](R);return this.init(),this},p.set=function(d,g){return this.clone().$set(d,g)},p.get=function(d){return this[O.p(d)]()},p.add=function(d,g){var h,b=this;d=Number(d);var w=O.p(g),E=function(q){var U=$(b);return O.w(U.date(U.date()+Math.round(q*d)),b)};if(w===c)return this.set(c,this.$M+d);if(w===f)return this.set(f,this.$y+d);if(w===a)return E(1);if(w===u)return E(7);var R=(h={},h[i]=t,h[s]=r,h[o]=e,h)[w]||1,P=this.$d.getTime()+d*R;return O.w(P,this)},p.subtract=function(d,g){return this.add(-1*d,g)},p.format=function(d){var g=this,h=this.$locale();if(!this.isValid())return h.invalidDate||N;var b=d||"YYYY-MM-DDTHH:mm:ssZ",w=O.z(this),E=this.$H,R=this.$m,P=this.$M,q=h.weekdays,U=h.months,ue=h.meridiem,oe=function(j,K,_e,je){return j&&(j[K]||j(g,b))||_e[K].slice(0,je)},we=function(j){return O.s(E%12||12,j,"0")},ie=ue||function(j,K,_e){var je=j<12?"AM":"PM";return _e?je.toLowerCase():je};return b.replace(lo,function(j,K){return K||function(_e){switch(_e){case"YY":return String(g.$y).slice(-2);case"YYYY":return O.s(g.$y,4,"0");case"M":return P+1;case"MM":return O.s(P+1,2,"0");case"MMM":return oe(h.monthsShort,P,U,3);case"MMMM":return oe(U,P);case"D":return g.$D;case"DD":return O.s(g.$D,2,"0");case"d":return String(g.$W);case"dd":return oe(h.weekdaysMin,g.$W,q,2);case"ddd":return oe(h.weekdaysShort,g.$W,q,3);case"dddd":return q[g.$W];case"H":return String(E);case"HH":return O.s(E,2,"0");case"h":return we(1);case"hh":return we(2);case"a":return ie(E,R,!0);case"A":return ie(E,R,!1);case"m":return String(R);case"mm":return O.s(R,2,"0");case"s":return String(g.$s);case"ss":return O.s(g.$s,2,"0");case"SSS":return O.s(g.$ms,3,"0");case"Z":return w}return null}(j)||w.replace(":","")})},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(d,g,h){var b,w=this,E=O.p(g),R=$(d),P=(R.utcOffset()-this.utcOffset())*t,q=this-R,U=function(){return O.m(w,R)};switch(E){case f:b=U()/12;break;case c:b=U();break;case l:b=U()/3;break;case u:b=(q-P)/6048e5;break;case a:b=(q-P)/864e5;break;case s:b=q/r;break;case i:b=q/t;break;case o:b=q/e;break;default:b=q}return h?b:O.a(b)},p.daysInMonth=function(){return this.endOf(c).$D},p.$locale=function(){return ne[this.$L]},p.locale=function(d,g){if(!d)return this.$L;var h=this.clone(),b=Me(d,g,!0);return b&&(h.$L=b),h},p.clone=function(){return O.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},v}(),Kt=De.prototype;return $.prototype=Kt,[["$ms",n],["$s",o],["$m",i],["$H",s],["$W",a],["$M",c],["$y",f],["$D",y]].forEach(function(v){Kt[v[1]]=function(p){return this.$g(p,v[0],v[1])}}),$.extend=function(v,p){return v.$i||(v(p,De,$),v.$i=!0),$},$.locale=Me,$.isDayjs=ut,$.unix=function(v){return $(1e3*v)},$.en=ne[be],$.Ls=ne,$.p={},$})});var qe=G(Je(),1);var Xr=(e=0)=>t=>`\x1B[${t+e}m`,Zr=(e=0)=>t=>`\x1B[${38+e};5;${t}m`,en=(e=0)=>(t,r,n)=>`\x1B[${38+e};2;${t};${r};${n}m`,T={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},Ma=Object.keys(T.modifier),Ji=Object.keys(T.color),Ki=Object.keys(T.bgColor),Da=[...Ji,...Ki];function zi(){let e=new Map;for(let[t,r]of Object.entries(T)){for(let[n,o]of Object.entries(r))T[n]={open:`\x1B[${o[0]}m`,close:`\x1B[${o[1]}m`},r[n]=T[n],e.set(o[0],o[1]);Object.defineProperty(T,t,{value:r,enumerable:!1})}return Object.defineProperty(T,"codes",{value:e,enumerable:!1}),T.color.close="\x1B[39m",T.bgColor.close="\x1B[49m",T.color.ansi=Xr(),T.color.ansi256=Zr(),T.color.ansi16m=en(),T.bgColor.ansi=Xr(10),T.bgColor.ansi256=Zr(10),T.bgColor.ansi16m=en(10),Object.defineProperties(T,{rgbToAnsi256:{value(t,r,n){return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},enumerable:!1},hexToRgb:{value(t){let r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!r)return[0,0,0];let[n]=r;n.length===3&&(n=[...n].map(i=>i+i).join(""));let o=Number.parseInt(n,16);return[o>>16&255,o>>8&255,o&255]},enumerable:!1},hexToAnsi256:{value:t=>T.rgbToAnsi256(...T.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value(t){if(t<8)return 30+t;if(t<16)return 90+(t-8);let r,n,o;if(t>=232)r=((t-232)*10+8)/255,n=r,o=r;else{t-=16;let a=t%36;r=Math.floor(t/36)/5,n=Math.floor(a/6)/5,o=a%6/5}let i=Math.max(r,n,o)*2;if(i===0)return 30;let s=30+(Math.round(o)<<2|Math.round(n)<<1|Math.round(r));return i===2&&(s+=60),s},enumerable:!1},rgbToAnsi:{value:(t,r,n)=>T.ansi256ToAnsi(T.rgbToAnsi256(t,r,n)),enumerable:!1},hexToAnsi:{value:t=>T.ansi256ToAnsi(T.hexToAnsi256(t)),enumerable:!1}}),T}var Qi=zi(),W=Qi;var ze=G(require("process"),1),rn=G(require("os"),1),qt=G(require("tty"),1);function V(e,t=globalThis.Deno?globalThis.Deno.args:ze.default.argv){let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),o=t.indexOf("--");return n!==-1&&(o===-1||n<o)}var{env:S}=ze.default,Ke;V("no-color")||V("no-colors")||V("color=false")||V("color=never")?Ke=0:(V("color")||V("colors")||V("color=true")||V("color=always"))&&(Ke=1);function Xi(){if("FORCE_COLOR"in S)return S.FORCE_COLOR==="true"?1:S.FORCE_COLOR==="false"?0:S.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(S.FORCE_COLOR,10),3)}function Zi(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function es(e,{streamIsTTY:t,sniffFlags:r=!0}={}){let n=Xi();n!==void 0&&(Ke=n);let o=r?Ke:n;if(o===0)return 0;if(r){if(V("color=16m")||V("color=full")||V("color=truecolor"))return 3;if(V("color=256"))return 2}if("TF_BUILD"in S&&"AGENT_NAME"in S)return 1;if(e&&!t&&o===void 0)return 0;let i=o||0;if(S.TERM==="dumb")return i;if(ze.default.platform==="win32"){let s=rn.default.release().split(".");return Number(s[0])>=10&&Number(s[2])>=10586?Number(s[2])>=14931?3:2:1}if("CI"in S)return"GITHUB_ACTIONS"in S||"GITEA_ACTIONS"in S?3:["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some(s=>s in S)||S.CI_NAME==="codeship"?1:i;if("TEAMCITY_VERSION"in S)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(S.TEAMCITY_VERSION)?1:0;if(S.COLORTERM==="truecolor"||S.TERM==="xterm-kitty")return 3;if("TERM_PROGRAM"in S){let s=Number.parseInt((S.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(S.TERM_PROGRAM){case"iTerm.app":return s>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(S.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(S.TERM)||"COLORTERM"in S?1:i}function tn(e,t={}){let r=es(e,{streamIsTTY:e&&e.isTTY,...t});return Zi(r)}var ts={stdout:tn({isTTY:qt.default.isatty(1)}),stderr:tn({isTTY:qt.default.isatty(2)})},nn=ts;function on(e,t,r){let n=e.indexOf(t);if(n===-1)return e;let o=t.length,i=0,s="";do s+=e.slice(i,n)+t+r,i=n+o,n=e.indexOf(t,i);while(n!==-1);return s+=e.slice(i),s}function sn(e,t,r,n){let o=0,i="";do{let s=e[n-1]==="\r";i+=e.slice(o,s?n-1:n)+t+(s?`\r
`:`
`)+r,o=n+1,n=e.indexOf(`
`,o)}while(n!==-1);return i+=e.slice(o),i}var{stdout:an,stderr:un}=nn,Mt=Symbol("GENERATOR"),pe=Symbol("STYLER"),Se=Symbol("IS_EMPTY"),cn=["ansi","ansi","ansi256","ansi16m"],me=Object.create(null),rs=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let r=an?an.level:0;e.level=t.level===void 0?r:t.level};var ns=e=>{let t=(...r)=>r.join(" ");return rs(t,e),Object.setPrototypeOf(t,Re.prototype),t};function Re(e){return ns(e)}Object.setPrototypeOf(Re.prototype,Function.prototype);for(let[e,t]of Object.entries(W))me[e]={get(){let r=Qe(this,jt(t.open,t.close,this[pe]),this[Se]);return Object.defineProperty(this,e,{value:r}),r}};me.visible={get(){let e=Qe(this,this[pe],!0);return Object.defineProperty(this,"visible",{value:e}),e}};var Dt=(e,t,r,...n)=>e==="rgb"?t==="ansi16m"?W[r].ansi16m(...n):t==="ansi256"?W[r].ansi256(W.rgbToAnsi256(...n)):W[r].ansi(W.rgbToAnsi(...n)):e==="hex"?Dt("rgb",t,r,...W.hexToRgb(...n)):W[r][e](...n),os=["rgb","hex","ansi256"];for(let e of os){me[e]={get(){let{level:r}=this;return function(...n){let o=jt(Dt(e,cn[r],"color",...n),W.color.close,this[pe]);return Qe(this,o,this[Se])}}};let t="bg"+e[0].toUpperCase()+e.slice(1);me[t]={get(){let{level:r}=this;return function(...n){let o=jt(Dt(e,cn[r],"bgColor",...n),W.bgColor.close,this[pe]);return Qe(this,o,this[Se])}}}}var is=Object.defineProperties(()=>{},{...me,level:{enumerable:!0,get(){return this[Mt].level},set(e){this[Mt].level=e}}}),jt=(e,t,r)=>{let n,o;return r===void 0?(n=e,o=t):(n=r.openAll+e,o=t+r.closeAll),{open:e,close:t,openAll:n,closeAll:o,parent:r}},Qe=(e,t,r)=>{let n=(...o)=>ss(n,o.length===1?""+o[0]:o.join(" "));return Object.setPrototypeOf(n,is),n[Mt]=e,n[pe]=t,n[Se]=r,n},ss=(e,t)=>{if(e.level<=0||!t)return e[Se]?"":t;let r=e[pe];if(r===void 0)return t;let{openAll:n,closeAll:o}=r;if(t.includes("\x1B"))for(;r!==void 0;)t=on(t,r.close,r.open),r=r.parent;let i=t.indexOf(`
`);return i!==-1&&(t=sn(t,o,n,i)),n+t+o};Object.defineProperties(Re.prototype,me);var as=Re(),La=Re({level:un?un.level:0});var ln=as;function ee(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&"version"in process?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}var zn=G(Tn());var Sn="9.0.0";var hs=`octokit-endpoint.js/${Sn} ${ee()}`,Rn={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":hs},mediaType:{format:""}};function xn(e){return e?Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{}):{}}function An(e){return Object.prototype.toString.call(e)==="[object Object]"}function Xe(e){var t,r;return An(e)===!1?!1:(t=e.constructor,t===void 0?!0:(r=t.prototype,!(An(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}function kt(e,t){let r=Object.assign({},e);return Object.keys(t).forEach(n=>{Xe(t[n])?n in e?r[n]=kt(e[n],t[n]):Object.assign(r,{[n]:t[n]}):Object.assign(r,{[n]:t[n]})}),r}function It(e){for(let t in e)e[t]===void 0&&delete e[t];return e}function Ae(e,t,r){if(typeof t=="string"){let[o,i]=t.split(" ");r=Object.assign(i?{method:o,url:i}:{url:o},r)}else r=Object.assign({},t);r.headers=xn(r.headers),It(r),It(r.headers);let n=kt(e||{},r);return r.url==="/graphql"&&(e&&e.mediaType.previews?.length&&(n.mediaType.previews=e.mediaType.previews.filter(o=>!n.mediaType.previews.includes(o)).concat(n.mediaType.previews)),n.mediaType.previews=(n.mediaType.previews||[]).map(o=>o.replace(/-preview/,""))),n}function $n(e,t){let r=/\?/.test(e)?"&":"?",n=Object.keys(t);return n.length===0?e:e+r+n.map(o=>o==="q"?"q="+t.q.split("+").map(encodeURIComponent).join("+"):`${o}=${encodeURIComponent(t[o])}`).join("&")}var ps=/\{[^}]+\}/g;function ms(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}function Pn(e){let t=e.match(ps);return t?t.map(ms).reduce((r,n)=>r.concat(n),[]):[]}function Nt(e,t){return Object.keys(e).filter(r=>!t.includes(r)).reduce((r,n)=>(r[n]=e[n],r),{})}function Cn(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(t){return/%[0-9A-Fa-f]/.test(t)||(t=encodeURI(t).replace(/%5B/g,"[").replace(/%5D/g,"]")),t}).join("")}function ve(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function $e(e,t,r){return t=e==="+"||e==="#"?Cn(t):ve(t),r?ve(r)+"="+t:t}function ye(e){return e!=null}function Ut(e){return e===";"||e==="&"||e==="?"}function gs(e,t,r,n){var o=e[r],i=[];if(ye(o)&&o!=="")if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")o=o.toString(),n&&n!=="*"&&(o=o.substring(0,parseInt(n,10))),i.push($e(t,o,Ut(t)?r:""));else if(n==="*")Array.isArray(o)?o.filter(ye).forEach(function(s){i.push($e(t,s,Ut(t)?r:""))}):Object.keys(o).forEach(function(s){ye(o[s])&&i.push($e(t,o[s],s))});else{let s=[];Array.isArray(o)?o.filter(ye).forEach(function(a){s.push($e(t,a))}):Object.keys(o).forEach(function(a){ye(o[a])&&(s.push(ve(a)),s.push($e(t,o[a].toString())))}),Ut(t)?i.push(ve(r)+"="+s.join(",")):s.length!==0&&i.push(s.join(","))}else t===";"?ye(o)&&i.push(ve(r)):o===""&&(t==="&"||t==="?")?i.push(ve(r)+"="):o===""&&i.push("");return i}function qn(e){return{expand:ys.bind(null,e)}}function ys(e,t){var r=["+","#",".","/",";","?","&"];return e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(n,o,i){if(o){let a="",u=[];if(r.indexOf(o.charAt(0))!==-1&&(a=o.charAt(0),o=o.substr(1)),o.split(/,/g).forEach(function(c){var l=/([^:\*]*)(?::(\d+)|(\*))?/.exec(c);u.push(gs(t,a,l[1],l[2]||l[3]))}),a&&a!=="+"){var s=",";return a==="?"?s="&":a!=="#"&&(s=a),(u.length!==0?a:"")+u.join(s)}else return u.join(",")}else return Cn(i)})}function Ze(e){let t=e.method.toUpperCase(),r=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),n=Object.assign({},e.headers),o,i=Nt(e,["method","baseUrl","url","headers","request","mediaType"]),s=Pn(r);r=qn(r).expand(i),/^http/.test(r)||(r=e.baseUrl+r);let a=Object.keys(e).filter(l=>s.includes(l)).concat("baseUrl"),u=Nt(i,a);if(!/application\/octet-stream/i.test(n.accept)&&(e.mediaType.format&&(n.accept=n.accept.split(/,/).map(l=>l.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`)).join(",")),r.endsWith("/graphql")&&e.mediaType.previews?.length)){let l=n.accept.match(/[\w-]+(?=-preview)/g)||[];n.accept=l.concat(e.mediaType.previews).map(f=>{let y=e.mediaType.format?`.${e.mediaType.format}`:"+json";return`application/vnd.github.${f}-preview${y}`}).join(",")}return["GET","HEAD"].includes(t)?r=$n(r,u):"data"in u?o=u.data:Object.keys(u).length&&(o=u),!n["content-type"]&&typeof o<"u"&&(n["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(t)&&typeof o>"u"&&(o=""),Object.assign({method:t,url:r,headers:n},typeof o<"u"?{body:o}:null,e.request?{request:e.request}:null)}function Mn(e,t,r){return Ze(Ae(e,t,r))}function Bt(e,t){let r=Ae(e,t),n=Mn.bind(null,r);return Object.assign(n,{DEFAULTS:r,defaults:Bt.bind(null,r),merge:Ae.bind(null,r),parse:Ze})}var Dn=Bt(null,Rn);var jn="8.1.0";var Pe=class extends Error{constructor(t){super(t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}};var Ft=G(Ln()),vs=(0,Ft.default)(e=>console.warn(e)),bs=(0,Ft.default)(e=>console.warn(e)),te=class extends Error{constructor(t,r,n){super(t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=r;let o;"headers"in n&&typeof n.headers<"u"&&(o=n.headers),"response"in n&&(this.response=n.response,o=n.response.headers);let i=Object.assign({},n.request);n.request.headers.authorization&&(i.headers=Object.assign({},n.request.headers,{authorization:n.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),i.url=i.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=i,Object.defineProperty(this,"code",{get(){return vs(new Pe("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),r}}),Object.defineProperty(this,"headers",{get(){return bs(new Pe("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),o||{}}})}};function Fn(e){return e.arrayBuffer()}function Gt(e){let t=e.request&&e.request.log?e.request.log:console,r=e.request?.parseSuccessResponseBody!==!1;(Xe(e.body)||Array.isArray(e.body))&&(e.body=JSON.stringify(e.body));let n={},o,i,{fetch:s}=globalThis;if(e.request?.fetch&&(s=e.request.fetch),!s)throw new Error('Global "fetch" not found. Please provide `options.request.fetch` to octokit or upgrade to node@18 or newer.');return s(e.url,{method:e.method,body:e.body,headers:e.headers,signal:e.request?.signal,...e.body&&{duplex:"half"}}).then(async a=>{i=a.url,o=a.status;for(let u of a.headers)n[u[0]]=u[1];if("deprecation"in n){let u=n.link&&n.link.match(/<([^>]+)>; rel="deprecation"/),c=u&&u.pop();t.warn(`[@octokit/request] "${e.method} ${e.url}" is deprecated. It is scheduled to be removed on ${n.sunset}${c?`. See ${c}`:""}`)}if(!(o===204||o===205)){if(e.method==="HEAD"){if(o<400)return;throw new te(a.statusText,o,{response:{url:i,status:o,headers:n,data:void 0},request:e})}if(o===304)throw new te("Not modified",o,{response:{url:i,status:o,headers:n,data:await Vt(a)},request:e});if(o>=400){let u=await Vt(a);throw new te(ws(u),o,{response:{url:i,status:o,headers:n,data:u},request:e})}return r?await Vt(a):a.body}}).then(a=>({status:o,url:i,headers:n,data:a})).catch(a=>{throw a instanceof te||a.name==="AbortError"?a:new te(a.message,500,{request:e})})}async function Vt(e){let t=e.headers.get("content-type");return/application\/json/.test(t)?e.json():!t||/^text\/|charset=utf-8$/.test(t)?e.text():Fn(e)}function ws(e){return typeof e=="string"?e:"message"in e?Array.isArray(e.errors)?`${e.message}: ${e.errors.map(JSON.stringify).join(", ")}`:e.message:`Unknown error: ${JSON.stringify(e)}`}function tt(e,t){let r=e.defaults(t);return Object.assign(function(o,i){let s=r.merge(o,i);if(!s.request||!s.request.hook)return Gt(r.parse(s));let a=(u,c)=>Gt(r.parse(r.merge(u,c)));return Object.assign(a,{endpoint:r,defaults:tt.bind(null,r)}),s.request.hook(a,s)},{endpoint:r,defaults:tt.bind(null,r)})}var Ce=tt(Dn,{headers:{"user-agent":`octokit-request.js/${jn} ${ee()}`}});var _s="7.0.1";function Os(e){return`Request failed due to following response errors:
`+e.errors.map(t=>` - ${t.message}`).join(`
`)}var Es=class extends Error{constructor(e,t,r){super(Os(r)),this.request=e,this.headers=t,this.response=r,this.name="GraphqlResponseError",this.errors=r.errors,this.data=r.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},Ts=["method","baseUrl","url","headers","request","query","mediaType"],Ss=["query","method","url"],Vn=/\/api\/v3\/?$/;function Rs(e,t,r){if(r){if(typeof t=="string"&&"query"in r)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(let s in r)if(Ss.includes(s))return Promise.reject(new Error(`[@octokit/graphql] "${s}" cannot be used as variable name`))}let n=typeof t=="string"?Object.assign({query:t},r):t,o=Object.keys(n).reduce((s,a)=>Ts.includes(a)?(s[a]=n[a],s):(s.variables||(s.variables={}),s.variables[a]=n[a],s),{}),i=n.baseUrl||e.endpoint.DEFAULTS.baseUrl;return Vn.test(i)&&(o.url=i.replace(Vn,"/api/graphql")),e(o).then(s=>{if(s.data.errors){let a={};for(let u of Object.keys(s.headers))a[u]=s.headers[u];throw new Es(o,a,s.data)}return s.data.data})}function Ht(e,t){let r=e.defaults(t);return Object.assign((o,i)=>Rs(r,o,i),{defaults:Ht.bind(null,r),endpoint:r.endpoint})}var Wu=Ht(Ce,{headers:{"user-agent":`octokit-graphql.js/${_s} ${ee()}`},method:"POST",url:"/graphql"});function Gn(e){return Ht(e,{method:"POST",url:"/graphql"})}var xs=/^v1\./,As=/^ghs_/,$s=/^ghu_/;async function Hn(e){let t=e.split(/\./).length===3,r=xs.test(e)||As.test(e),n=$s.test(e);return{type:"token",token:e,tokenType:t?"app":r?"installation":n?"user-to-server":"oauth"}}function Wn(e){return e.split(/\./).length===3?`bearer ${e}`:`token ${e}`}async function Yn(e,t,r,n){let o=t.endpoint.merge(r,n);return o.headers.authorization=Wn(e),t(o)}var Jn=function(t){if(!t)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof t!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return t=t.replace(/^(token|bearer) +/i,""),Object.assign(Hn.bind(null,t),{hook:Yn.bind(null,t)})};var Kn="5.0.0",Qn=class{static{this.VERSION=Kn}static defaults(e){return class extends this{constructor(...r){let n=r[0]||{};if(typeof e=="function"){super(e(n));return}super(Object.assign({},e,n,n.userAgent&&e.userAgent?{userAgent:`${n.userAgent} ${e.userAgent}`}:null))}}}static{this.plugins=[]}static plugin(...e){let t=this.plugins;return class extends this{static{this.plugins=t.concat(e.filter(n=>!t.includes(n)))}}}constructor(e={}){let t=new zn.Collection,r={baseUrl:Ce.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:t.bind(null,"request")}),mediaType:{previews:[],format:""}};if(r.headers["user-agent"]=[e.userAgent,`octokit-core.js/${Kn} ${ee()}`].filter(Boolean).join(" "),e.baseUrl&&(r.baseUrl=e.baseUrl),e.previews&&(r.mediaType.previews=e.previews),e.timeZone&&(r.headers["time-zone"]=e.timeZone),this.request=Ce.defaults(r),this.graphql=Gn(this.request).defaults(r),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},e.log),this.hook=t,e.authStrategy){let{authStrategy:o,...i}=e,s=o(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:i},e.auth));t.wrap("request",s.hook),this.auth=s}else if(!e.auth)this.auth=async()=>({type:"unauthenticated"});else{let o=Jn(e.auth);t.wrap("request",o.hook),this.auth=o}this.constructor.plugins.forEach(o=>{Object.assign(this,o(this,e))})}};var Ps=(e,t)=>`The cursor at "${e.join(",")}" did not change its value "${t}" after a page transition. Please make sure your that your query is set up correctly.`,rt=class extends Error{constructor(t,r){super(Ps(t.pathInQuery,r)),this.pageInfo=t,this.cursorValue=r,this.name="MissingCursorChangeError",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},nt=class extends Error{constructor(t){super(`No pageInfo property found in response. Please make sure to specify the pageInfo in your query. Response-Data: ${JSON.stringify(t,null,2)}`),this.response=t,this.name="MissingPageInfo",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}};var Cs=e=>Object.prototype.toString.call(e)==="[object Object]";function ot(e){let t=Xn(e,"pageInfo");if(t.length===0)throw new nt(e);return t}var Xn=(e,t,r=[])=>{for(let n of Object.keys(e)){let o=[...r,n],i=e[n];if(i.hasOwnProperty(t))return o;if(Cs(i)){let s=Xn(i,t,o);if(s.length>0)return s}}return[]},ae=(e,t)=>t.reduce((r,n)=>r[n],e),it=(e,t,r)=>{let n=t[t.length-1],o=[...t].slice(0,-1),i=ae(e,o);typeof r=="function"?i[n]=r(i[n]):i[n]=r};var Zn=e=>{let t=ot(e);return{pathInQuery:t,pageInfo:ae(e,[...t,"pageInfo"])}};var eo=e=>e.hasOwnProperty("hasNextPage"),to=e=>eo(e)?e.endCursor:e.startCursor,ro=e=>eo(e)?e.hasNextPage:e.hasPreviousPage;var st=e=>(t,r={})=>{let n=!0,o={...r};return{[Symbol.asyncIterator]:()=>({async next(){if(!n)return{done:!0,value:{}};let i=await e.graphql(t,o),s=Zn(i),a=to(s.pageInfo);if(n=ro(s.pageInfo),n&&a===o.cursor)throw new rt(s,a);return o={...o,cursor:a},{done:!1,value:i}}})}};var no=(e,t)=>{if(Object.keys(e).length===0)return Object.assign(e,t);let r=ot(e),n=[...r,"nodes"],o=ae(t,n);o&&it(e,n,u=>[...u,...o]);let i=[...r,"edges"],s=ae(t,i);s&&it(e,i,u=>[...u,...s]);let a=[...r,"pageInfo"];return it(e,a,ae(t,a)),e};var oo=e=>{let t=st(e);return async(r,n={})=>{let o={};for await(let i of t(r,n))o=no(o,i);return o}};function io(e){return e.graphql,{graphql:Object.assign(e.graphql,{paginate:Object.assign(oo(e),{iterator:st(e)})})}}var so=({ghToken:e})=>{let t=Qn.plugin(io);return new t({auth:e})};var uo=G(Je(),1),Jt=G(ao(),1),qs=`
  query branches($cursor: String, $name: String!, $owner: String!) {
    repository(owner: $owner, name: $name) {
      refs(refPrefix: "refs/heads/", first: 100, after: $cursor) {
        pageInfo {
          hasNextPage
          endCursor
        }
        nodes {
          name
          associatedPullRequests(first: 1, states: [OPEN]) {
            nodes {
              number
            }
          }
          target {
            __typename
            ... on Commit {
              committedDate
            }
          }
        }
      }
    }
  }
`;function Ms(e){return e?.target?.__typename==="Commit"}var co=async({octokit:e,repositoryOwner:t,repositoryName:r})=>{let{repository:n}=await e.graphql.paginate(qs,{owner:t,name:r}),o=n?.refs?.nodes;return o||(console.error("No branches found."),process.exit(1)),(0,uo.debug)(`Found ${o.length} branches in total.`),o.filter(i=>i?.associatedPullRequests.nodes?.length===0).filter(Ms).map(i=>({...i,daysDiff:(0,Jt.default)().diff((0,Jt.default)(i.target.committedDate),"d")})).sort((i,s)=>i.daysDiff-s.daysDiff)};async function Ds(){process.env["INPUT_DAYS-TO-DELETE"]="90";let e=(0,qe.getInput)("token",{required:!0}),t=(0,qe.getInput)("days-to-delete",{required:!0}),r=(0,qe.getInput)("dry-run")!=="false",n=parseInt(t,10);(Number.isNaN(n)||n<0)&&(console.error("Invalid `days-to-delete` value. Must be a positive number."),process.exit(1));let o=(0,qe.getInput)("repository",{required:!0});o.match(/^[^/]*\/[^/]*$/)||(console.error("Invalid `repository` value. Must be in format `owner/repository`."),process.exit(1));let i=o.split("/")[0],s=o.split("/")[1],a=so({ghToken:e}),u=await co({octokit:a,repositoryOwner:i,repositoryName:s}),c=!1;for(let{name:f,daysDiff:y}of u){let N=y>n;!c&&N&&(console.log(`
====== Following branches are inactive more than ${n} days and will be deleted ======
`),c=!0),console.log(`${f} - `,ln[N?"red":"green"](`${y} days inactive`))}let l=u.filter(({daysDiff:f})=>f>n);if(r){console.log(`

Dry run. Would delete ${l.length} branches that are inactive for more than ${n} days.`);return}console.log(`

Deleting ${l.length} branches that are inactive for more than ${n} days...`),await Promise.all(l.map(async({name:f})=>{try{await a.request({method:"DELETE",url:`/repos/${o}/git/refs/heads/${f}`})}catch(y){console.error(`Failed to delete ${f}: ${y}`)}console.log(`Deleted ${f}`)})),console.log("Done.")}Ds();
/*! Bundled license information:

is-plain-object/dist/is-plain-object.mjs:
  (*!
   * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)
*/
//# sourceMappingURL=main.cjs.map